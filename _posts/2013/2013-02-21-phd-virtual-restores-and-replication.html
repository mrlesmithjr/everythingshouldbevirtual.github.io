---
layout: post
title: PHD Virtual Restores and Replication
date: 2013-02-21 16:33:13.000000000 -05:00
type: post
published: true
status: publish
categories:
- Backups
- Disaster Recovery
- PHD Virtual
- Virtualization
- VMware
- vSphere 5.1
tags:
- backup
- esxi
- phd virtual
- recovery
- replication
- Vsphere
meta:
  _yoast_wpseo_linkdex: '78'
  _edit_last: '11'
  _s2mail: 'yes'
  snapEdIT: '1'
  snapFB: s:147:"a:1:{i:0;a:4:{s:4:"doFB";i:0;s:8:"PostType";s:1:"A";s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:41:"New
    post has been published on %SITENAME%";}}";
  snapLI: s:357:"a:1:{i:0;a:7:{s:4:"doLI";i:0;s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:41:"New
    post has been published on %SITENAME%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:124:"http://www.linkedin.com/updates?discuss=&amp;scope=138895851&amp;stype=M&amp;topic=5710471180067016704&amp;type=U&amp;a=xn-L";s:5:"pDate";s:19:"2013-02-21
    21:33:44";}}";
  snapSU: s:209:"a:1:{i:0;a:7:{s:4:"doSU";i:0;s:7:"apSUCat";s:2:"IT";s:10:"SNAPformat";s:16:"%TITLE%
    - %TEXT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:6:"2VNHfr";s:5:"pDate";s:19:"2013-02-21
    21:33:59";}}";
  snapTW: 's:262:"a:1:{i:0;a:7:{s:4:"doTW";i:0;s:10:"SNAPformat";s:56:"%TITLE% - %URL%
    #phdvirtual @phdvirtual #vmware #vsphere";s:8:"attchImg";s:1:"0";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:18:"304705553781895169";s:5:"pDate";s:19:"2013-02-21
    21:34:00";}}";'
  _yoast_wpseo_focuskw: phd virtual
  _yoast_wpseo_title: PHD Virtual Restores and Replication - Everything Should Be
    Virtual
  _wpas_done_all: '1'
  snap_isAutoPosted: '1'
  _wp_rp_related_posts_query_result_cache_expiration: '1510217011'
  _wp_rp_related_posts_query_result_cache_6: a:12:{i:0;O:8:"stdClass":2:{s:7:"post_id";s:4:"1158";s:5:"score";s:18:"199.03596548472896";}i:1;O:8:"stdClass":2:{s:7:"post_id";s:3:"245";s:5:"score";s:17:"122.0981741279351";}i:2;O:8:"stdClass":2:{s:7:"post_id";s:4:"1146";s:5:"score";s:18:"103.16302181791116";}i:3;O:8:"stdClass":2:{s:7:"post_id";s:4:"1581";s:5:"score";s:16:"96.1839570499701";}i:4;O:8:"stdClass":2:{s:7:"post_id";s:3:"522";s:5:"score";s:17:"89.51349607033288";}i:5;O:8:"stdClass":2:{s:7:"post_id";s:4:"1134";s:5:"score";s:17:"86.66245559924943";}i:6;O:8:"stdClass":2:{s:7:"post_id";s:3:"503";s:5:"score";s:16:"72.8892386426369";}i:7;O:8:"stdClass":2:{s:7:"post_id";s:3:"497";s:5:"score";s:17:"72.69861828302825";}i:8;O:8:"stdClass":2:{s:7:"post_id";s:4:"1151";s:5:"score";s:17:"70.93113374145895";}i:9;O:8:"stdClass":2:{s:7:"post_id";s:4:"7243";s:5:"score";s:17:"67.37852723748432";}i:10;O:8:"stdClass":2:{s:7:"post_id";s:4:"1154";s:5:"score";s:17:"67.03219159427296";}i:11;O:8:"stdClass":2:{s:7:"post_id";s:3:"623";s:5:"score";s:17:"67.03219159427296";}}
  _wp_rp_image: empty
  dsq_thread_id: ''
author:
  login: larry.e.smith.jr
  email: larry.e.smith.jr@gmail.com
  display_name: mrlesmithjr
  first_name: Larry
  last_name: Smith
---
<p>In this article we will be going through the process of using PHD Virtual for doing file level restores, whole vm restores and replications. The initial installation of PHD Virtual can be found <a title="https://everythingshouldbevirtual.com/installing-phd-virtual-backup-and-replication" href="https://everythingshouldbevirtual.com/installing-phd-virtual-backup-and-replication" target="_blank">here</a> in which we also created our first backup job. We will be using this to do our first restore.</p>
<p><strong>File Level Restores</strong></p>
<p>Right click on any object and under PHD Virtual Backup select console. Now follow the screenshots below to step you through this process. This will basically be creating a CIFS share that is browseable and contains the contents of the vmdk files of the server. In this case we are doing an FLR on a Windows 2008 server.</p>
<p>[nggallery id=16]</p>
<p>Now you will go into File Recovery in the console and open the share and browse into the disks and partitions and then into your folder structure to find the files that you want to restore. You basically have to copy the files/folders out of here to wherever you want to restore them to. :( Not ideal, but I guess it works for some.</p>
<p>[nggallery id=17]</p>
<p><strong>Replications</strong></p>
<p>Right click on any object and under PHD Virtual Backup select console. Go to configuration and then replication.</p>
<p>Now we will configure the appliance to do replications. You will first need to configure the storage used for backups which in this case is the local attached disk on the appliance.</p>
<p>Follow the screenshots below.</p>
<p>&nbsp;</p>
<p>[nggallery id=18]</p>
<p>Now go to the replication tab on the left.</p>
<p>Click "Virtual Machines Available For Replication". This will list all of your vms that are already backed up and ready to be configured for replication. Choose the vms you want to replicate. Select the datastore that you want to use for the replication. Select the default network to use for the target (NOTE!!! If you are using vDS (Distributed Switches) you will be presented with the error you will see in the screenshots. You can still go forward, but keep in mind that you will need to configure your replicated vm network settings when you are ready to power up the vm, which will also require you to add a network adapter because it does not add one. Even though you can get around this a word of caution would be that if you are in a true disaster and you have 100's - 1000's of vm's you have a lot of work ahead of you. I truly hope they fix this in upcoming releases.) Continue on and configure the remaining screens for your replication configuration and then kick it off.</p>
<p>Follow the screenshots below for the walk through of this section.</p>
<p>[nggallery id=19]</p>
<p><strong>Replications - Testing</strong></p>
<p>Now that we have our vms replicated you will want to test and verify that it works right? Of course.</p>
<p>Right click on any object and under PHD Virtual Backup select console. Go to replication and then "Replicated Virtual Machines", select the vm you want to test and click start test. Now this will not automatically power on the vm :(. You will need to go into vcenter and manually power it on. And it worked. :)</p>
<p>Screenshots below of the process.</p>
<p>[nggallery id=20]</p>
<p>&nbsp;</p>
<p>Now for the real fun!!! :)</p>
<p>The one thing we have not tested yet is recovering a complete vm from backup. So let's do this.</p>
<p><strong>Full VM Recovery</strong></p>
<p>First thing I want to do is delete the original vm that was backed up in our backup scenario. Then I am going to recover it. Remember if using vDS you will need to add a network adapter to your recovered vm.</p>
<p>So here are the screenshots of this scenario.</p>
<p>[nggallery id=21]</p>
<p>AND IT WORKED !!! :) :)</p>
<p><strong>Ending thoughts</strong></p>
<p>I feel that PHD Virtual does a really good job at what it is meant for. However there are some areas that need some tidying up, but I am sure that these will be addressed in future releases. I look forward to doing some additional testing of this product in the future for sure. Again keep in mind this product is about half the cost of another product, but YMMV. :)</p>
<p>Enjoy!!</p>
