---
layout: post
title: How to install block based tools for platespin workloads manually
date: 2012-08-22 10:08:43.000000000 -04:00
type: post
published: true
status: publish
categories:
- Disaster Recovery
- Virtualization
tags: []
meta:
  _jd_tweet_this: 'yes'
  _jd_twitter: ''
  _wp_jd_clig: ''
  _wp_jd_bitly: ''
  _wp_jd_wp: http://wp.me/p2C5rM-45
  _wp_jd_yourls: ''
  _wp_jd_url: ''
  _wp_jd_target: http://wp.me/p2C5rM-45
  _jd_wp_twitter: 'a:2:{i:0;s:115:"New post: How to install block based tools for
    platespin workloads manually http://wp.me/p2C5rM-45 #VMware #VMworld";i:1;s:124:"#ElRetardoLand
    Post Edited: How to install block based tools for platespin workloads manually
    http://wp.me/p2C5rM-45 #VMware";}'
  _edit_last: '11'
  fb_social_plugin_settings_box_subscribe: default
  al2fb_facebook_link_id: '1329619822_3580366271038'
  al2fb_facebook_link_time: '2012-08-22T14:08:52+00:00'
  al2fb_facebook_link_picture: post=https://everythingshouldbevirtual.com/?al2fb_image=1
  snapEdIT: '1'
  snapFB: s:161:"a:1:{i:0;a:4:{s:4:"doFB";s:1:"1";s:8:"PostType";s:1:"A";s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:51:"New
    post (%TITLE%) has been published on %SITENAME%";}}";
  snapLI: s:154:"a:1:{i:0;a:4:{s:4:"doLI";s:1:"1";s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:41:"New
    post has been published on %SITENAME%";s:11:"SNAPformatT";s:0:"";}}";
  snapSU: s:100:"a:1:{i:0;a:3:{s:4:"doSU";s:1:"1";s:7:"apSUCat";s:2:"IT";s:10:"SNAPformat";s:16:"%TITLE%
    - %TEXT%";}}";
  snapTW: 's:126:"a:1:{i:0;a:3:{s:4:"doTW";s:1:"1";s:10:"SNAPformat";s:42:"%TITLE%
    - %URL% #everythingshouldbevirtual";s:8:"attchImg";s:1:"0";}}";'
  _s2mail: 'yes'
  _wp_rp_related_posts_query_result_cache_expiration: '1509794900'
  _wp_rp_related_posts_query_result_cache_6: a:12:{i:0;O:8:"stdClass":2:{s:7:"post_id";s:3:"611";s:5:"score";s:18:"41.283971242960995";}i:1;O:8:"stdClass":2:{s:7:"post_id";s:3:"177";s:5:"score";s:18:"29.680558256021307";}i:2;O:8:"stdClass":2:{s:7:"post_id";s:4:"1842";s:5:"score";s:17:"28.61930175325411";}i:3;O:8:"stdClass":2:{s:7:"post_id";s:4:"1581";s:5:"score";s:17:"28.61930175325411";}i:4;O:8:"stdClass":2:{s:7:"post_id";s:4:"1282";s:5:"score";s:17:"28.61930175325411";}i:5;O:8:"stdClass":2:{s:7:"post_id";s:4:"2169";s:5:"score";s:16:"28.4414619090151";}i:6;O:8:"stdClass":2:{s:7:"post_id";s:3:"516";s:5:"score";s:18:"23.872025163961474";}i:7;O:8:"stdClass":2:{s:7:"post_id";s:4:"1134";s:5:"score";s:18:"22.781690181688987";}i:8;O:8:"stdClass":2:{s:7:"post_id";s:4:"4420";s:5:"score";s:16:"21.9117772457099";}i:9;O:8:"stdClass":2:{s:7:"post_id";s:4:"1815";s:5:"score";s:16:"21.9117772457099";}i:10;O:8:"stdClass":2:{s:7:"post_id";s:3:"245";s:5:"score";s:17:"21.43923451494236";}i:11;O:8:"stdClass":2:{s:7:"post_id";s:4:"1952";s:5:"score";s:18:"21.108371257103915";}}
  _wp_rp_image: empty
  dsq_thread_id: '3349036023'
author:
  login: larry.e.smith.jr
  email: larry.e.smith.jr@gmail.com
  display_name: mrlesmithjr
  first_name: Larry
  last_name: Smith
---
<p>Here is how you can control a reboot required for adding a server workload to platespin which uses block based replication. Highly suggest only using block based for DB servers or other servers that have a lot of data, but maybe only a bit of changed data. All other workloads (Web, App) should be file based. Below are the contents of KB article <strong><a href="http://www.novell.com/support/kb/doc.php?id=7010094" target="_blank">7010094</a> </strong>which was not working at the time I am posting this, but I have the contents. Why would you want to do this? Well if you have a lot of workloads then when you schedule downtime for a production DB server but have to explain that it could take up to x number of hours for it to get rebooted, but have no idea what x would be that doesn't work real well. So schedule your production outage on an agreed upon time and manually install the BBT (Block Based Tools) and then reboot the server at your own will. Now after the server has been rebooted you can add the workload to your platespin server and it will not require another reboot because the tools will be detected.</p>
<p style="text-align: center;"><em> <strong>****Disclaimer**** - The information provided below was copied from Novell's site for Platespin support.</strong></em></p>
<h1>How to manually install the PlateSpin Block-Based driver onto a Windows source workload</h1>
<p>This document <strong>(7010094)</strong><em> is provided subject to the <a href="https://kcs.innerweb.novell.com/contactcenter/viewContent.do?externalId=7010094&amp;sliceId=1#disclaimer">disclaimer</a> at the end of this document.</em></p>
<h3>Environment</h3>
<p>PlateSpin Forge</p>
<p>PlateSpin Protect</p>
<p>&nbsp;</p>
<p>Source workload is not a member of a Windows cluster</p>
<h3>Situation</h3>
<p>After removing the block-based components manually or if the block-based components need to be installed prior to adding a workload to PlateSpin Forge or PlateSpin Protect, it is necessary to follow the steps outlined in resolution section to ensure the block-based components are installed correctly.</p>
<p>&nbsp;</p>
<h3>Resolution</h3>
<p><strong>If using Protect 10.1/Forge 3.1 or later</strong>:</p>
<p>&nbsp;</p>
<p>1. Download  and extract the platespin_bbt_install.zip file to the source workload</p>
<p>2. Navigate to the extracted directory via command line and run this command:</p>
<p>ProtectAgent.cli.exe /bbinstall</p>
<p>3. Reboot the source workload</p>
<p>&nbsp;</p>
<p><strong>If using Protect 10.0.2/Forge 3.0.2 or earlier</strong>:</p>
<p>&nbsp;</p>
<p>1. Copy the PSMoninstall.zip file to the source workload.</p>
<p>2. Copy the appropriate .inf and .sys files for the source Operating System by following these steps:</p>
<p>2a. Navigate to the following folder on the PlateSpin Protect server or PlateSpin Forge Management VM:</p>
<p>..\PlateSpin Protect Server\Packages\C221392A-D69A-417C-B359-EBEBEFBBFBA0</p>
<p>D:\Program Files\PlateSpin Forge Server\Packages\C221392A-D69A-417C-B359-EBEBEFBBFBA0</p>
<p>2b. Copy and paste 1.package.</p>
<p>2c. Rename the copy of 1.package to 1.zip and extract it</p>
<p>2d. Copy the files under 64bit or 32bit to the source workload</p>
<p>3. If the Microsoft VC++ Redistributable package is not installed on the source workload, either install it or manually install the controller as per TID <a href="http://www.novell.com/support/documentLink.do?externalID=7008520">7008520</a></p>
<p>4. Remove any .bbvt files (if block driver was ever installed on this machine) found on the root of every protect source volume (e.g. C:\platespin.bitmap.bbvt).</p>
<p>5. Extract psmoninstall.zip on the source. Move the psmon.sys and psmon.inf files copied in step 2 to the extracted folder. If the Microsoft VC++ Redistributable package is not installed, the extracted folder shoould instead be the ..\%PlateSpin Server Folder%\Controller folder.</p>
<p>6. Via command line, run the following command:</p>
<p>..\extracted PsMonInstall folder\PsMonInstall.exe /inf "..\extracted PsMonInstall folder\psmon.inf" /install psmon /add</p>
<p>7. Reboot the source workload.</p>
<p>&nbsp;</p>
<p><a href="http://everythingshouldbevirtual.com/wp-content/uploads/2012/08/Platespin-BBT-Installs.zip">Platespin BBT Installs</a></p>
