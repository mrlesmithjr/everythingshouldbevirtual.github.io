---
layout: post
title: Purge Syslog and Trap alerts from Solarwinds DB
date: 2014-02-21 22:28:57.000000000 -05:00
type: post
published: true
status: publish
categories:
- Solarwinds
tags:
- solarwinds
meta:
  _edit_last: '11'
  snap_MYURL: ''
  snapEdIT: '1'
  snapFB: s:387:"a:1:{i:0;a:12:{s:4:"doFB";s:1:"1";s:8:"postType";s:1:"A";s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:51:"New
    post (%TITLE%) has been published on %SITENAME%";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";b:0;s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";b:0;s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:31:"389547404477041_544418368989943";s:5:"pDate";s:19:"2014-02-22
    03:29:01";}}";
  snapSU: s:304:"a:1:{i:0;a:9:{s:4:"doSU";s:1:"1";s:7:"apSUCat";s:2:"IT";s:4:"nsfw";s:1:"0";s:10:"SNAPformat";s:16:"%TITLE%
    - %TEXT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:6:"2TjXP4";s:7:"postURL";s:50:"http://www.stumbleupon.com/content/2TjXP4/comments";s:5:"pDate";s:19:"2014-02-22
    03:29:08";}}";
  snapTW: 's:295:"a:1:{i:0;a:9:{s:4:"doTW";s:1:"1";s:10:"SNAPformat";s:42:"%TITLE%
    - %URL% #everythingshouldbevirtual";s:8:"attchImg";s:1:"0";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";b:0;s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:18:"437066501687107584";s:5:"pDate";s:19:"2014-02-22
    03:29:09";}}";'
  snap_isAutoPosted: '1'
  snapLI: s:268:"a:1:{i:0;a:9:{s:4:"doLI";s:1:"1";s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:41:"New
    post has been published on %SITENAME%";s:11:"SNAPformatT";s:1:" ";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";b:0;s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";b:0;s:11:"isPrePosted";s:1:"1";}}";
  _s2mail: 'yes'
  _wp_rp_image: empty
  _wp_rp_related_posts_query_result_cache_expiration: '1509789589'
  _wp_rp_related_posts_query_result_cache_6: a:12:{i:0;O:8:"stdClass":2:{s:7:"post_id";s:4:"2670";s:5:"score";s:17:"66.15506365940038";}i:1;O:8:"stdClass":2:{s:7:"post_id";s:4:"2340";s:5:"score";s:17:"66.15506365940038";}i:2;O:8:"stdClass":2:{s:7:"post_id";s:4:"2538";s:5:"score";s:17:"65.15708132780526";}i:3;O:8:"stdClass":2:{s:7:"post_id";s:3:"177";s:5:"score";s:18:"19.600235840966512";}i:4;O:8:"stdClass":2:{s:7:"post_id";s:4:"3193";s:5:"score";s:17:"17.95058583230531";}i:5;O:8:"stdClass":2:{s:7:"post_id";s:4:"2646";s:5:"score";s:18:"16.260110771822582";}i:6;O:8:"stdClass":2:{s:7:"post_id";s:4:"5383";s:5:"score";s:18:"14.610460763161383";}i:7;O:8:"stdClass":2:{s:7:"post_id";s:4:"5485";s:5:"score";s:18:"13.588809515642389";}i:8;O:8:"stdClass":2:{s:7:"post_id";s:3:"481";s:5:"score";s:17:"12.35689443148268";}i:9;O:8:"stdClass":2:{s:7:"post_id";s:4:"5498";s:5:"score";s:17:"11.91060732885426";}i:10;O:8:"stdClass":2:{s:7:"post_id";s:3:"626";s:5:"score";s:17:"11.91060732885426";}i:11;O:8:"stdClass":2:{s:7:"post_id";s:3:"253";s:5:"score";s:17:"11.91060732885426";}}
  dsq_thread_id: '3349201565'
author:
  login: larry.e.smith.jr
  email: larry.e.smith.jr@gmail.com
  display_name: mrlesmithjr
  first_name: Larry
  last_name: Smith
---
<p>I was getting overloaded on the number of syslog messages in my Solarwinds DB and needed to purge them. So I wanted to share with other's what MS SQL Server query to execute to do this. I purged everything older than 2/15/2014 using this query. You can tailor to meet your requirements.</p>
<pre>Delete FROM [SolarWindsOrion].[dbo].[SysLog] Where datetime &lt;= '2/15/2014'
Delete from [SolarWindsOrion].[dbo].[Traps] Where datetime &lt;= '2/15/2014'
Delete from [SolarWindsOrion].[dbo].[TrapVarbinds] where TrapID not in (select TrapID from [SolarWindsOrion].[dbo].[Traps])</pre>
<p>If you would like to use a query to delete everything older than for example 30 days you can execute the following query. Of course you can modify to meet your requirements again.</p>
<pre>Delete FROM [SolarWindsOrion].[dbo].[SysLog] Where datetime &lt; GETDATE() - 30
Delete from [SolarWindsOrion].[dbo].[Traps] Where datetime &lt; GETDATE() - 30
Delete from [SolarWindsOrion].[dbo].[TrapVarbinds] where TrapID not in (select TrapID from [SolarWindsOrion].[dbo].[Traps])</pre>
<p>If you want to delete all existing Syslog and Trap messages you can run the following.</p>
<pre>Truncate [SolarWindsOrion].[dbo].[SysLog]
Truncate [SolarWindsOrion].[dbo].[Traps]
Truncate [SolarWindsOrion].[dbo].[TrapVarbinds]</pre>
<p>Enjoy!</p>
