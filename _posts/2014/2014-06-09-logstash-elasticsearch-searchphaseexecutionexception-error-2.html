---
layout: post
title: Logstash Elasticsearch searchphaseexecutionexception error
date: 2014-06-09 15:30:58.000000000 -04:00
type: post
published: true
status: publish
categories:
- Logstash
- Monitoring
tags:
- elasticsearch
- logstash
meta:
  snap_isAutoPosted: '1'
  snapSU: s:304:"a:1:{i:0;a:9:{s:4:"doSU";s:1:"1";s:7:"apSUCat";s:2:"IT";s:4:"nsfw";s:1:"0";s:10:"SNAPformat";s:16:"%TITLE%
    - %TEXT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:6:"1gmoTv";s:7:"postURL";s:50:"http://www.stumbleupon.com/content/1gmoTv/comments";s:5:"pDate";s:19:"2014-06-09
    19:31:10";}}";
  snapTW: 's:296:"a:1:{i:0;a:8:{s:4:"doTW";s:1:"1";s:10:"SNAPformat";s:67:"%TITLE%
    - %URL% #everythingshouldbevirtual #logstash #elasticsearch";s:8:"attchImg";s:1:"0";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:8:"isPosted";s:1:"1";s:4:"pgID";s:18:"476084105734803456";s:5:"pDate";s:19:"2014-06-09
    19:31:10";}}";'
  _edit_last: '11'
  snap_MYURL: ''
  snapEdIT: '1'
  snapFB: s:280:"a:1:{i:0;a:9:{s:4:"doFB";s:1:"1";s:8:"postType";s:1:"A";s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:51:"New
    post (%TITLE%) has been published on %SITENAME%";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:11:"isPrePosted";s:1:"1";}}";
  snapLI: s:274:"a:1:{i:0;a:9:{s:4:"doLI";s:1:"1";s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:41:"New
    post has been published on %SITENAME%";s:11:"SNAPformatT";s:1:" ";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:11:"isPrePosted";s:1:"1";}}";
  _s2mail: 'yes'
  _yoast_wpseo_focuskw: Logstash Elasticsearch
  _yoast_wpseo_linkdex: '55'
  snapDL: s:102:"a:1:{i:0;a:3:{s:4:"doDL";s:1:"1";s:11:"SNAPformatT";s:7:"%TITLE%";s:10:"SNAPformat";s:9:"%EXCERPT%";}}";
  _wp_rp_image: '3437'
  _wp_rp_related_posts_query_result_cache_expiration: '1510059328'
  _wp_rp_related_posts_query_result_cache_6: a:12:{i:0;O:8:"stdClass":2:{s:7:"post_id";s:4:"2985";s:5:"score";s:18:"105.12882039795628";}i:1;O:8:"stdClass":2:{s:7:"post_id";s:4:"2854";s:5:"score";s:18:"105.12882039795628";}i:2;O:8:"stdClass":2:{s:7:"post_id";s:4:"4505";s:5:"score";s:17:"83.50751501584602";}i:3;O:8:"stdClass":2:{s:7:"post_id";s:4:"3793";s:5:"score";s:17:"70.89824134190378";}i:4;O:8:"stdClass":2:{s:7:"post_id";s:4:"3341";s:5:"score";s:16:"66.3876601741103";}i:5;O:8:"stdClass":2:{s:7:"post_id";s:4:"3313";s:5:"score";s:16:"66.3876601741103";}i:6;O:8:"stdClass":2:{s:7:"post_id";s:4:"3353";s:5:"score";s:17:"65.87579342569305";}i:7;O:8:"stdClass":2:{s:7:"post_id";s:4:"3302";s:5:"score";s:17:"61.69076617941944";}i:8;O:8:"stdClass":2:{s:7:"post_id";s:4:"4695";s:5:"score";s:17:"61.28356826891098";}i:9;O:8:"stdClass":2:{s:7:"post_id";s:4:"4466";s:5:"score";s:17:"61.28356826891098";}i:10;O:8:"stdClass":2:{s:7:"post_id";s:4:"4447";s:5:"score";s:17:"57.09854102263739";}i:11;O:8:"stdClass":2:{s:7:"post_id";s:4:"2242";s:5:"score";s:17:"57.09854102263739";}}
  dsq_thread_id: ''
author:
  login: larry.e.smith.jr
  email: larry.e.smith.jr@gmail.com
  display_name: mrlesmithjr
  first_name: Larry
  last_name: Smith
---
<p>In the past few days I have come across the following error on two different instances of Logstash.</p>
<p><a href="http://everythingshouldbevirtual.com/wp-content/uploads/2014/06/Logstash-Elasticsearch-SearchPhaseExecutionException.png"><img class="alignnone size-medium wp-image-2746" src="{{ site.baseurl }}/assets/Logstash-Elasticsearch-SearchPhaseExecutionException-300x171.png" alt="Logstash - Elasticsearch SearchPhaseExecutionException" width="300" height="171" /></a></p>
<p>On the first instance I came across the mount point that elasticsearch was writing to became full. In this case I had to do the following to get everything back on it.</p>
<p>curl -XDELETE http://localhost:9200/_all</p>
<p>sudo service elasticsearch restart</p>
<p>Keep in mind the above will delete all data from elasticsearch. There may be a more graceful way of doing some cleanup but for this one it worked as I did not care about retaining any previous data.</p>
<p>On the second instance I saw this there was still plenty of available space on the mountpoint for elasticsearch so I just restarted elasticsearch and all was fine. Looking at the elasticsearch log file this is what it contained.</p>
<p><a href="http://everythingshouldbevirtual.com/wp-content/uploads/2014/06/elasticsearch_log.png"><img class="alignnone size-medium wp-image-2750" src="{{ site.baseurl }}/assets/elasticsearch_log-300x31.png" alt="elasticsearch_log" width="300" height="31" /></a></p>
<p>Enjoy!</p>
<p>&nbsp;</p>
