---
layout: post
title: Hey, I can DevOPS my Network too! – Prep-Work (Part 1)
date: 2015-09-07 16:08:28.000000000 -04:00
type: post
published: true
status: publish
categories:
- Ansible
- Automation
- Provisioning
- Vagrant
- Virtualization
tags:
- Ansible
- quagga
- vagrant
meta:
  _wp_rp_related_posts_query_result_cache_6: a:12:{i:0;O:8:"stdClass":2:{s:7:"post_id";s:4:"4915";s:5:"score";s:17:"189.4906949649085";}i:1;O:8:"stdClass":2:{s:7:"post_id";s:4:"4934";s:5:"score";s:18:"182.60561959256606";}i:2;O:8:"stdClass":2:{s:7:"post_id";s:4:"4879";s:5:"score";s:18:"175.11368274981797";}i:3;O:8:"stdClass":2:{s:7:"post_id";s:4:"4944";s:5:"score";s:18:"171.64448063896387";}i:4;O:8:"stdClass":2:{s:7:"post_id";s:4:"4902";s:5:"score";s:18:"166.23901979074483";}i:5;O:8:"stdClass":2:{s:7:"post_id";s:4:"4803";s:5:"score";s:18:"136.18049527074888";}i:6;O:8:"stdClass":2:{s:7:"post_id";s:4:"6225";s:5:"score";s:18:"109.31338005946603";}i:7;O:8:"stdClass":2:{s:7:"post_id";s:4:"4962";s:5:"score";s:18:"105.01027304975469";}i:8;O:8:"stdClass":2:{s:7:"post_id";s:4:"5734";s:5:"score";s:18:"102.43599323843824";}i:9;O:8:"stdClass":2:{s:7:"post_id";s:4:"5498";s:5:"score";s:17:"77.14650367578103";}i:10;O:8:"stdClass":2:{s:7:"post_id";s:4:"6033";s:5:"score";s:17:"75.09652921982021";}i:11;O:8:"stdClass":2:{s:7:"post_id";s:4:"4824";s:5:"score";s:17:"68.43212019946981";}}
  _edit_last: '7644'
  _snap_forceSURL: '2'
  snap_MYURL: ''
  snapEdIT: '1'
  snapFB: s:280:"a:1:{i:0;a:9:{s:4:"doFB";s:1:"1";s:8:"postType";s:1:"A";s:10:"AttachPost";s:1:"1";s:10:"SNAPformat";s:51:"New
    post (%TITLE%) has been published on %SITENAME%";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:11:"isPrePosted";s:1:"1";}}";
  snapSU: s:146:"a:1:{i:0;a:5:{s:4:"doSU";s:1:"1";s:7:"apSUCat";s:2:"IT";s:4:"nsfw";s:1:"0";s:10:"SNAPformat";s:16:"%TITLE%
    - %TEXT%";s:11:"isPrePosted";s:1:"1";}}";
  _s2mail: 'yes'
  wp_github_commits_page_fields: a:3:{s:15:"gc_widget_title";s:0:"";s:11:"github_user";s:0:"";s:11:"github_repo";s:0:"";}
  _yoast_wpseo_focuskw: Hey, I can DevOPS my Network too! – Prep-Work (Part 1)
  _yoast_wpseo_metadesc: Hey, I can DevOPS my Network too! – Prep-Work (Part 1)
  _yoast_wpseo_linkdex: '72'
  snap_isAutoPosted: '1'
  snapDL: s:242:"a:1:{i:0;a:7:{s:4:"doDL";s:1:"1";s:11:"SNAPformatT";s:7:"%TITLE%";s:10:"SNAPformat";s:9:"%EXCERPT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:32:"e5c0c32c843c558df6e8d6f3a2218243";s:5:"pDate";s:19:"2015-09-07
    20:08:28";}}";
  snapLI: s:520:"a:1:{i:0;a:13:{s:4:"doLI";s:1:"1";s:8:"postType";s:1:"A";s:10:"SNAPformat";s:41:"New
    post has been published on %SITENAME%";s:11:"SNAPformatT";s:1:" ";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:19:"6046745674358280192";s:7:"postURL";s:125:"https://www.linkedin.com/updates?discuss=&amp;scope=138895851&amp;stype=M&amp;topic=6046745674358280192&amp;type=U&amp;a=jAV0";s:5:"pDate";s:19:"2015-09-07
    20:08:31";}}";
  _wp_rp_image: '4901'
  _wp_rp_related_posts_query_result_cache_expiration: '1510108982'
  snapTW: 's:336:"a:1:{i:0;a:9:{s:4:"doTW";s:1:"1";s:10:"SNAPformat";s:80:"%TITLE%
    - %URL% #everythingshouldbevirtual #DevOPS #automation #vagrant #ansible";s:8:"attchImg";s:1:"0";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:18:"640980004889694208";s:5:"pDate";s:19:"2015-09-07
    20:08:36";}}";'
author:
  login: mrlesmithjr
  email: mrlesmithjr@gmail.com
  display_name: Larry Smith Jr.
  first_name: ''
  last_name: ''
---
<p style="text-align: center;"><strong>Hey, I can DevOPS my Network too! – Prep-Work (Part 1)</strong></p>
<p style="text-align: left;">In the previous <a href="http://everythingshouldbevirtual.com/hey-i-can-devops-my-network-too-intro">post</a> we went over the intro on what we will be setting up by going through each of these posts. In this post we will be setting up our environment and getting everything ready to begin our journey of network development.</p>
<p>First head over to the VirtualBox website and install <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank">VirtualBox</a> for your HostOS of choice.</p>
<p>Now head over to the Vagrant site and install <a href="https://www.vagrantup.com/downloads.html" target="_blank">Vagrant</a> for your HostOS of choice.</p>
<p>Next you will need to install <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" target="_blank">GIT</a> in order to pull the packages required from GitHub.</p>
<p>Now that we have all of the above installed we are ready to pull down GitHub repo that we will be using in this series. And because we will be learning how to put some version control around our code we will actually be forking the actual repo so we can make changes to our own repo. This also means that some of the cli commands will need to be modified to fit your naming.</p>
<p>Login to <a href="https://github.com/" target="_blank">GitHub</a> with your existing account or create a new one. Once logged in head over to <a href="https://github.com/mrlesmithjr/vagrant-ansible-routing-template" target="_blank">here</a> which is where we will fork from.</p>
<p><a href="http://everythingshouldbevirtual.com/wp-content/uploads/2015/09/Screen-Shot-2015-09-07-at-2.04.50-PM.png"><img class="alignnone size-medium wp-image-4890" src="{{ site.baseurl }}/assets/Screen-Shot-2015-09-07-at-2.04.50-PM-300x211.png" alt="Screen Shot 2015-09-07 at 2.04.50 PM" width="300" height="211" /></a></p>
<p>Click Fork on the top right.</p>
<p><a href="http://everythingshouldbevirtual.com/wp-content/uploads/2015/09/Screen-Shot-2015-09-07-at-2.06.44-PM1.png"><img class="alignnone size-medium wp-image-4894" src="{{ site.baseurl }}/assets/Screen-Shot-2015-09-07-at-2.06.44-PM1-300x162.png" alt="Screen Shot 2015-09-07 at 2.06.44 PM" width="300" height="162" /></a></p>
<p>&nbsp;</p>
<p>And now you should have your own copy of my GitHub repo for you to modify all that you would like to.</p>
<p><a href="http://everythingshouldbevirtual.com/wp-content/uploads/2015/09/Screen-Shot-2015-09-07-at-2.11.06-PM.png"><img class="alignnone size-medium wp-image-4895" src="{{ site.baseurl }}/assets/Screen-Shot-2015-09-07-at-2.11.06-PM-300x218.png" alt="Screen Shot 2015-09-07 at 2.11.06 PM" width="300" height="218" /></a></p>
<p>You are now ready to clone your copy of the repo to your laptop to begin using and modifying to make it your very own.</p>
<p>Click the button highlighted below to copy the clone url.</p>
<p><a href="http://everythingshouldbevirtual.com/wp-content/uploads/2015/09/2015-09-07_14-27-32.png"><img class="alignnone size-medium wp-image-4897" src="{{ site.baseurl }}/assets/2015-09-07_14-27-32-300x226.png" alt="2015-09-07_14-27-32" width="300" height="226" /></a></p>
<p>I will be cloning into a folder that I have created called projects. (Note*** - Remember your git clone command should point to your URL for your forked branch.)</p>
<pre>mkdir projects
cd projects
git clone https://github.com/everythingshouldbevirtual/vagrant-ansible-routing-template.git
cd vagrant-ansible-routing-template
</pre>
<p>Now to show the status of our git repository.</p>
<pre>git status
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean
</pre>
<p>Now as you can see above we have our Master branch. We do not want to make changes or develop against Master but rather we will create a dev branch in which we will be doing all of our testing and developing on. At the very end of the complete series we will merge dev into Master once we are all completed.</p>
<p>So in order to create a dev branch do the following.</p>
<pre>git checkout -b dev
Switched to a new branch 'dev'
</pre>
<p>If you would like to see which branches you have available locally run the following.</p>
<pre>git branch
* dev
  master
</pre>
<p>As you can the branch name with the asterisk is the one we have currently checked out for manipulating.</p>
<p>This concludes the pre-work required to get us ready to begin our next steps into our multi-post learning. But before you end here for now let's go ahead and commit out dev branch to GitHub so we have it ready and saved as well.</p>
<pre>git push origin dev
Username for 'https://github.com': everythingshouldbevirtual
Password for 'https://everythingshouldbevirtual@github.com':
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/everythingshouldbevirtual/vagrant-ansible-routing-template.git
 * [new branch]      dev -&gt; dev
</pre>
<p>And now if you were to go back to your browser and look at the repo we just forked and click on the drop-down for Branch you will see our new dev branch.</p>
<p><a href="http://everythingshouldbevirtual.com/wp-content/uploads/2015/09/2015-09-07_16-01-53.png"><img class="alignnone size-medium wp-image-4898" src="{{ site.baseurl }}/assets/2015-09-07_16-01-53-300x177.png" alt="2015-09-07_16-01-53" width="300" height="177" /></a></p>
<p>Now one last thing in regards to forking our project. If you would like to stay in sync with any upstream changes to the original <a href="https://github.com/mrlesmithjr/vagrant-ansible-routing-template" target="_blank">repo</a> we will need to add this to our local repo. What this will do is add the original repo to our remotes and allow us to sync changes from our forked upstream repo all the way down to us. You may or may not want to do this depending on your use case. But for the sake of learning here along with that I have made some changes upstream we will do this. Read more about syncing forks <a href="https://help.github.com/articles/syncing-a-fork/" target="_blank">here</a>.</p>
<p>So if I want to view my current remote locations I would do the following.</p>
<pre>git remote -v
....
origin	https://github.com/everythingshouldbevirtual/vagrant-ansible-routing-template.git (fetch)
origin	https://github.com/everythingshouldbevirtual/vagrant-ansible-routing-template.git (push)
</pre>
<p>As you can see I only have my forked repo configured for fetch/push.<br />
Now if I would like to add the original repo as an upstream source I would do the following.</p>
<pre>git remote add upstream https://github.com/mrlesmithjr/vagrant-ansible-routing-template.git
</pre>
<p>And now if I view my remote locations again.</p>
<pre>git remote -v
....
origin	https://github.com/everythingshouldbevirtual/vagrant-ansible-routing-template.git (fetch)
origin	https://github.com/everythingshouldbevirtual/vagrant-ansible-routing-template.git (push)
upstream	https://github.com/mrlesmithjr/vagrant-ansible-routing-template.git (fetch)
upstream	https://github.com/mrlesmithjr/vagrant-ansible-routing-template.git (push)
</pre>
<p>Now if I would like to check for any upstream changes I would do the following.</p>
<pre>git fetch upstream
....
remote: Counting objects: 7, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 7 (delta 4), reused 6 (delta 3), pack-reused 0
Unpacking objects: 100% (7/7), done.
From https://github.com/mrlesmithjr/vagrant-ansible-routing-template
 * [new branch]      master     -&gt; upstream/master
</pre>
<p>As you can see I have detected upstream changes since I first forked my repo. So let's now merge those changes to my dev branch locally.<br />
First ensure we have dev checked out</p>
<pre>git checkout dev
....
Already on 'dev'
Your branch is up-to-date with 'origin/dev'.
</pre>
<p>Now let's merge our upstream/master with our local dev branch.</p>
<pre>git merge upstream/master
</pre>
<p>Your local editor will open which will look like the following.</p>
<pre>Merge remote-tracking branch 'upstream/master' into dev

# Please enter a commit message to explain why this merge is necessary,
# especially if it merges an updated upstream into a topic branch.
#
# Lines starting with '#' will be ignored, and an empty message aborts
# the commit.
</pre>
<p>Save the file and you will see the following.</p>
<pre>Merge made by the 'recursive' strategy.
 README.md                 | 141 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------
 group_vars/quagga-routers |   6 +++---
 2 files changed, 120 insertions(+), 27 deletions(-)
</pre>
<p>And to validate that our merge was successful.</p>
<pre>git status
....
On branch dev
Your branch is ahead of 'origin/dev' by 3 commits.
  (use "git push" to publish your local commits)
nothing to commit, working directory clean
</pre>
<p>And as you can see, our local dev branch is ahead of our remote dev branch so we must push those changes.</p>
<pre>git push
....
Counting objects: 9, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (8/8), done.
Writing objects: 100% (9/9), 1.62 KiB | 0 bytes/s, done.
Total 9 (delta 5), reused 0 (delta 0)
To https://github.com/everythingshouldbevirtual/vagrant-ansible-routing-template.git
   2ca4703..1f2dc96  dev -&gt; dev
</pre>
<p>So there you have it. All synced up.<br />
Up Next....<a href="http://everythingshouldbevirtual.com/hey-i-can-devops-my-network-too-define-nodes-part-2">Modifying our nodes configuration file to provision our nodes with Vagrant</a>.</p>
